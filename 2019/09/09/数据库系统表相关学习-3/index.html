<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang>
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">
<script src="//cdn.bootcss.com/pace/1.0.2/pace.min.js"></script>
<link href="//cdn.bootcss.com/pace/1.0.2/themes/pink/pace-theme-flash.css" rel="stylesheet">








<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/uploads/favicon.ico?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/uploads/favicon.ico?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT">










<meta name="description" content="数据库系统表相关学习—-31.利用数据库功能进行文件的读取。1.1 Mysql文件读写方式:Mysql数据库对本地文件进行读写的时候需要权限足够，读取方式分为3种，分别为load_file()、load data infile()、system cat。 要进行读写首先需要2点，拥有file的权限，其次secure_file_priv不为NULL。如果secure_file_priv下有文件的路径">
<meta property="og:type" content="article">
<meta property="og:title" content="数据库系统表相关学习">
<meta property="og:url" content="http://yoursite.com/2019/09/09/数据库系统表相关学习-3/index.html">
<meta property="og:site_name" content="Darren-学无止境">
<meta property="og:description" content="数据库系统表相关学习—-31.利用数据库功能进行文件的读取。1.1 Mysql文件读写方式:Mysql数据库对本地文件进行读写的时候需要权限足够，读取方式分为3种，分别为load_file()、load data infile()、system cat。 要进行读写首先需要2点，拥有file的权限，其次secure_file_priv不为NULL。如果secure_file_priv下有文件的路径">
<meta property="og:locale" content="default">
<meta property="og:image" content="https://boke-1259222504.cos.ap-shanghai.myqcloud.com/boke/1565686758281.png">
<meta property="og:image" content="https://boke-1259222504.cos.ap-shanghai.myqcloud.com/boke/1565687810288.png">
<meta property="og:image" content="https://boke-1259222504.cos.ap-shanghai.myqcloud.com/boke/1565687911622.png">
<meta property="og:image" content="https://boke-1259222504.cos.ap-shanghai.myqcloud.com/boke/1565688229539.png">
<meta property="og:image" content="https://boke-1259222504.cos.ap-shanghai.myqcloud.com/boke/1565688336967.png">
<meta property="og:image" content="https://boke-1259222504.cos.ap-shanghai.myqcloud.com/boke/1565689123881.png">
<meta property="og:image" content="https://boke-1259222504.cos.ap-shanghai.myqcloud.com/boke/1565689927342.png">
<meta property="og:image" content="https://boke-1259222504.cos.ap-shanghai.myqcloud.com/boke/1565690023485.png">
<meta property="og:image" content="https://boke-1259222504.cos.ap-shanghai.myqcloud.com/boke/1565747126504.png">
<meta property="og:image" content="https://boke-1259222504.cos.ap-shanghai.myqcloud.com/boke/1565706354929.png">
<meta property="og:image" content="https://boke-1259222504.cos.ap-shanghai.myqcloud.com/boke/1565706940244.png">
<meta property="og:image" content="https://boke-1259222504.cos.ap-shanghai.myqcloud.com/boke/1565706991730.png">
<meta property="og:image" content="https://boke-1259222504.cos.ap-shanghai.myqcloud.com/boke/1565707844767.png">
<meta property="og:image" content="https://boke-1259222504.cos.ap-shanghai.myqcloud.com/boke/1565747321130.png">
<meta property="og:image" content="https://boke-1259222504.cos.ap-shanghai.myqcloud.com/boke/1565747448703.png">
<meta property="og:image" content="https://boke-1259222504.cos.ap-shanghai.myqcloud.com/boke/1565748628703.png">
<meta property="og:image" content="https://boke-1259222504.cos.ap-shanghai.myqcloud.com/boke/1565750294814.png">
<meta property="og:image" content="https://boke-1259222504.cos.ap-shanghai.myqcloud.com/boke/1565750480871.png">
<meta property="og:image" content="https://boke-1259222504.cos.ap-shanghai.myqcloud.com/boke/1565753734023.png">
<meta property="og:image" content="https://boke-1259222504.cos.ap-shanghai.myqcloud.com/boke/1565833986657.png">
<meta property="og:image" content="https://boke-1259222504.cos.ap-shanghai.myqcloud.com/boke/1565834067784.png">
<meta property="og:image" content="https://boke-1259222504.cos.ap-shanghai.myqcloud.com/boke/1565834129667.png">
<meta property="og:image" content="https://boke-1259222504.cos.ap-shanghai.myqcloud.com/boke/1565877136292.png">
<meta property="og:image" content="https://boke-1259222504.cos.ap-shanghai.myqcloud.com/boke/1565877298753.png">
<meta property="og:image" content="https://boke-1259222504.cos.ap-shanghai.myqcloud.com/boke/1565877342498.png">
<meta property="og:image" content="https://boke-1259222504.cos.ap-shanghai.myqcloud.com/boke/1565877431764.png">
<meta property="og:image" content="https://boke-1259222504.cos.ap-shanghai.myqcloud.com/boke/1565878084161.png">
<meta property="og:image" content="https://boke-1259222504.cos.ap-shanghai.myqcloud.com/boke/1565882060259.png">
<meta property="og:image" content="https://boke-1259222504.cos.ap-shanghai.myqcloud.com/boke/1565917746029.png">
<meta property="og:updated_time" content="2019-09-26T04:29:55.512Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="数据库系统表相关学习">
<meta name="twitter:description" content="数据库系统表相关学习—-31.利用数据库功能进行文件的读取。1.1 Mysql文件读写方式:Mysql数据库对本地文件进行读写的时候需要权限足够，读取方式分为3种，分别为load_file()、load data infile()、system cat。 要进行读写首先需要2点，拥有file的权限，其次secure_file_priv不为NULL。如果secure_file_priv下有文件的路径">
<meta name="twitter:image" content="https://boke-1259222504.cos.ap-shanghai.myqcloud.com/boke/1565686758281.png">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/2019/09/09/数据库系统表相关学习-3/">





  <title>数据库系统表相关学习 | Darren-学无止境</title>
  









  <script>
class Circle {
    //创建对象
    //以一个圆为对象
    //设置随机的 x，y坐标，r半径，_mx，_my移动的距离
    //this.r是创建圆的半径，参数越大半径越大
    //this._mx,this._my是移动的距离，参数越大移动
    constructor(x, y) {
        this.x = x;
        this.y = y;
        this.r = Math.random() * 10 ;
        this._mx = Math.random() ;
        this._my = Math.random() ;

    }

    //canvas 画圆和画直线
    //画圆就是正常的用canvas画一个圆
    //画直线是两个圆连线，为了避免直线过多，给圆圈距离设置了一个值，距离很远的圆圈，就不做连线处理
    drawCircle(ctx) {
        ctx.beginPath();
        //arc() 方法使用一个中心点和半径，为一个画布的当前子路径添加一条弧。
        ctx.arc(this.x, this.y, this.r, 0, 360)
        ctx.closePath();
        ctx.fillStyle = 'rgba(204, 204, 204, 0.3)';
        ctx.fill();
    }

    drawLine(ctx, _circle) {
        let dx = this.x - _circle.x;
        let dy = this.y - _circle.y;
        let d = Math.sqrt(dx * dx + dy * dy)
        if (d < 150) {
            ctx.beginPath();
            //开始一条路径，移动到位置 this.x,this.y。创建到达位置 _circle.x,_circle.y 的一条线：
            ctx.moveTo(this.x, this.y);   //起始点
            ctx.lineTo(_circle.x, _circle.y);   //终点
            ctx.closePath();
            ctx.strokeStyle = 'rgba(204, 204, 204, 0.3)';
            ctx.stroke();
        }
    }

    // 圆圈移动
    // 圆圈移动的距离必须在屏幕范围内
    move(w, h) {
        this._mx = (this.x < w && this.x > 0) ? this._mx : (-this._mx);
        this._my = (this.y < h && this.y > 0) ? this._my : (-this._my);
        this.x += this._mx / 2;
        this.y += this._my / 2;
    }
}
//鼠标点画圆闪烁变动
class currentCirle extends Circle {
    constructor(x, y) {
        super(x, y)
    }

    drawCircle(ctx) {
        ctx.beginPath();
        //注释内容为鼠标焦点的地方圆圈半径变化
        //this.r = (this.r < 14 && this.r > 1) ? this.r + (Math.random() * 2 - 1) : 2;
        this.r = 8;
        ctx.arc(this.x, this.y, this.r, 0, 360);
        ctx.closePath();
        //ctx.fillStyle = 'rgba(0,0,0,' + (parseInt(Math.random() * 100) / 100) + ')'
        ctx.fillStyle = 'rgba(255, 77, 54, 0.3)'
        ctx.fill();

    }
}
//更新页面用requestAnimationFrame替代setTimeout
window.requestAnimationFrame = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame;

let canvas = document.getElementById('canvas');
let ctx = canvas.getContext('2d');
let w = canvas.width = canvas.offsetWidth;
let h = canvas.height = canvas.offsetHeight;
let circles = [];
let current_circle = new currentCirle(0, 0)

let draw = function () {
    ctx.clearRect(0, 0, w, h);
    for (let i = 0; i < circles.length; i++) {
        circles[i].move(w, h);
        circles[i].drawCircle(ctx);
        for (j = i + 1; j < circles.length; j++) {
            circles[i].drawLine(ctx, circles[j])
        }
    }
    if (current_circle.x) {
        current_circle.drawCircle(ctx);
        for (var k = 1; k < circles.length; k++) {
            current_circle.drawLine(ctx, circles[k])
        }
    }
    requestAnimationFrame(draw)
}

let init = function (num) {
    for (var i = 0; i < num; i++) {
        circles.push(new Circle(Math.random() * w, Math.random() * h));
    }
    draw();
}
window.addEventListener('load', init(60));
window.onmousemove = function (e) {
    e = e || window.event;
    current_circle.x = e.clientX;
    current_circle.y = e.clientY;
}
window.onmouseout = function () {
    current_circle.x = null;
    current_circle.y = null;

};
</script>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="default">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>
<a href="https://github.com/Darren-zl"><img style="position: absolute; top: 0; left: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_left_gray_6d6d6d.png" alt="Fork me on GitHub"></a>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Darren-学无止境</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">一天一小步，随着时间的积累，你将会发现你其实已经走了很远。</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br>
            
            Categories
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            Tags
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            Archives
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br>
            
            About
          </a>
        </li>
      
        
        <li class="menu-item menu-item-message">
          <a href="/message/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-heart"></i> <br>
            
            留言板
          </a>
        </li>
      
        
        <li class="menu-item menu-item-photo">
          <a href="/photo/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-image"></i> <br>
            
            摄影
          </a>
        </li>
      
        
        <li class="menu-item menu-item-music">
          <a href="/music/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-music"></i> <br>
            
            音乐
          </a>
        </li>
      
        
        <li class="menu-item menu-item-welfare">
          <a href="/welfare/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-leaf"></i> <br>
            
            福利
          </a>
        </li>
      
        
        <li class="menu-item menu-item-book">
          <a href="/book/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-book"></i> <br>
            
            书单
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/09/09/数据库系统表相关学习-3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Darren-zl">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/uploads/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Darren-学无止境">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">数据库系统表相关学习</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-09-09T16:55:34+08:00">
                2019-09-09
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-comment-o"></i>
              </span>
              
                <a href="/2019/09/09/数据库系统表相关学习-3/#SOHUCS" itemprop="discussionUrl">
                  <span id="changyan_count_unit" class="post-comments-count hc-comment-count" data-xid="2019/09/09/数据库系统表相关学习-3/" itemprop="commentsCount"></span>
                </a>
              
            
          

          
          
             <span id="/2019/09/09/数据库系统表相关学习-3/" class="leancloud_visitors" data-flag-title="数据库系统表相关学习">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">Visitors&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Words count in article&#58;</span>
                
                <span title="Words count in article">
                  
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Reading time &asymp;</span>
                
                <span title="Reading time">
                  
                </span>
              
            </div>
          

          

        </span></div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">


      
      

      
        <h1 id="数据库系统表相关学习—-3"><a href="#数据库系统表相关学习—-3" class="headerlink" title="数据库系统表相关学习—-3"></a>数据库系统表相关学习—-3</h1><h2 id="1-利用数据库功能进行文件的读取。"><a href="#1-利用数据库功能进行文件的读取。" class="headerlink" title="1.利用数据库功能进行文件的读取。"></a>1.利用数据库功能进行文件的读取。</h2><h4 id="1-1-Mysql文件读写方式"><a href="#1-1-Mysql文件读写方式" class="headerlink" title="1.1 Mysql文件读写方式:"></a>1.1 Mysql文件读写方式:</h4><p><strong>Mysql</strong>数据库对本地文件进行读写的时候需要<strong>权限足够</strong>，读取方式分为3种，分别为<strong>load_file()、load data infile()、system cat。</strong></p>
<p>要进行读写首先需要2点，拥有file的权限，其次secure_file_priv不为NULL。如果secure_file_priv下有文件的路径则load_file()、load data infile()命令只能对该文件路径下的文件进行读取。</p>
<p>读取secure_file_priv的值：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SHOW VARIABLES LIKE &quot;secure_file_priv&quot;;</span><br></pre></td></tr></table></figure>

<p><img src="https://boke-1259222504.cos.ap-shanghai.myqcloud.com/boke/1565686758281.png" alt="1565686758281"></p>
<h5 id="1-1-1-通过load-file-进行文件读取"><a href="#1-1-1-通过load-file-进行文件读取" class="headerlink" title="1.1.1 通过load_file()进行文件读取"></a>1.1.1 通过load_file()进行文件读取</h5><ul>
<li><h5 id="正确的读取方式："><a href="#正确的读取方式：" class="headerlink" title="正确的读取方式："></a>正确的读取方式：</h5></li>
</ul>
<p>目前为mysql本地的secure_file_priv的路径为/var/lib/mysql-files。</p>
<p>首先我在/var/lib/mysql-files/路径下创建一个test1.txt文件并加入内容。</p>
<p><img src="https://boke-1259222504.cos.ap-shanghai.myqcloud.com/boke/1565687810288.png" alt="1565687810288"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">use test1 (我本地的一个库)</span><br><span class="line">create table user1(shell text);（创建一个表单名字为user1,并以shell为键）</span><br><span class="line">insert into user1(shell) values (load_file(&apos;/var/lib/mysql-files/test1.txt&apos;));(将系统中的test.txt文件内容插入到user1表中)</span><br><span class="line">select * from user1;（查看user1表）</span><br></pre></td></tr></table></figure>

<p>查询结果：</p>
<p><img src="https://boke-1259222504.cos.ap-shanghai.myqcloud.com/boke/1565687911622.png" alt="1565687911622"></p>
<ul>
<li><h5 id="如果我查询别的路径的文件的话（错误操作）："><a href="#如果我查询别的路径的文件的话（错误操作）：" class="headerlink" title="如果我查询别的路径的文件的话（错误操作）："></a>如果我查询别的路径的文件的话（错误操作）：</h5></li>
</ul>
<p>在/tmp下创建一个test.txt文件：</p>
<p><img src="https://boke-1259222504.cos.ap-shanghai.myqcloud.com/boke/1565688229539.png" alt="1565688229539"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">use test1 </span><br><span class="line">create table user1(shell text);</span><br><span class="line">insert into user1(shell) values (load_file(&apos;/tmp/test.txt&apos;));</span><br><span class="line">select * from user1;</span><br></pre></td></tr></table></figure>

<p>返回结果为NULL</p>
<p><img src="https://boke-1259222504.cos.ap-shanghai.myqcloud.com/boke/1565688336967.png" alt="1565688336967"></p>
<h5 id="只有当secure-file-priv路径参数为空并且有目录权限时，可通过load-file（）命令对指定的文件进行查看。"><a href="#只有当secure-file-priv路径参数为空并且有目录权限时，可通过load-file（）命令对指定的文件进行查看。" class="headerlink" title="只有当secure_file_priv路径参数为空并且有目录权限时，可通过load_file（）命令对指定的文件进行查看。"></a>只有当secure_file_priv路径参数为空并且有目录权限时，可通过load_file（）命令对指定的文件进行查看。</h5><p>首先在<strong>/etc/my.cnf</strong>的[mysqld]下面添加local-infile=0选项，重启mysql服务。</p>
<p><img src="https://boke-1259222504.cos.ap-shanghai.myqcloud.com/boke/1565689123881.png" alt="1565689123881"></p>
<p>查询secure_file_priv路径值：</p>
<p><img src="https://boke-1259222504.cos.ap-shanghai.myqcloud.com/boke/1565689927342.png" alt="1565689927342"></p>
<p>进行/tmp路径下的文件读取</p>
<p><img src="https://boke-1259222504.cos.ap-shanghai.myqcloud.com/boke/1565690023485.png" alt="1565690023485"></p>
<p>注：若mysql用户没有目录权限也会导致读取失败</p>
<ul>
<li><h5 id="同时也可以进行下面方式进行读取："><a href="#同时也可以进行下面方式进行读取：" class="headerlink" title="同时也可以进行下面方式进行读取："></a>同时也可以进行下面方式进行读取：</h5></li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">select load_file(&apos;/tmp/test.txt&apos;);(secure_file_priv路径为空时可以读取该目录，有路径时需读取路径目录)</span><br><span class="line">select load_file(0x2F746D702F746573742E747874);(同时也可以通过16进制转换进行文件读取，注16进行进行读取时候不需要加引号进行转换)</span><br></pre></td></tr></table></figure>

<p>输出结果：</p>
<p><img src="https://boke-1259222504.cos.ap-shanghai.myqcloud.com/boke/1565747126504.png" alt="1565747126504"></p>
<h5 id="1-1-2-load-data-infile-进行文件的读取"><a href="#1-1-2-load-data-infile-进行文件的读取" class="headerlink" title="1.1.2 load data infile 进行文件的读取"></a>1.1.2 <strong>load data infile</strong> 进行文件的读取</h5><p>load data infile与load_file()属性一样，都是需要基于secure_file_priv路径值，需要为空路径才可以进任意目录下的文件读取。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">use test1 </span><br><span class="line">create table user1(shell text);</span><br><span class="line">load data infile &apos;/tmp/test.txt&apos; into user1;</span><br><span class="line">select * from user1;</span><br></pre></td></tr></table></figure>

<p>成功读取到文件：</p>
<p><img src="https://boke-1259222504.cos.ap-shanghai.myqcloud.com/boke/1565706354929.png" alt="1565706354929"></p>
<h5 id="1-1-3-通过system-cat命令进行文件读取"><a href="#1-1-3-通过system-cat命令进行文件读取" class="headerlink" title="1.1.3 通过system cat命令进行文件读取"></a>1.1.3 通过system cat命令进行文件读取</h5><p>通过system cat 系统命令可以直接读取文件，但是<strong>该方法只能本地进行文件读取，远程mysql时候不能使用system，无法越权读取。</strong></p>
<p>本地读取：</p>
<p><img src="https://boke-1259222504.cos.ap-shanghai.myqcloud.com/boke/1565706940244.png" alt="1565706940244"></p>
<p>远程读取：</p>
<p><img src="https://boke-1259222504.cos.ap-shanghai.myqcloud.com/boke/1565706991730.png" alt="1565706991730"></p>
<h5 id="1-1-4-通过数据库插入文件（方便以后写shell文件）"><a href="#1-1-4-通过数据库插入文件（方便以后写shell文件）" class="headerlink" title="1.1.4 通过数据库插入文件（方便以后写shell文件）"></a>1.1.4 通过数据库插入文件（方便以后写shell文件）</h5><p>通过into outfile或into dumpfile参数可以进行文件的写入。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">select &apos;123123&apos; into outfile &apos;/tmp/test1.txt&apos;; （将123123写入/tmp/test1.txt（新建的文件）文件中，该命令需要该目录下之前没有该文件）</span><br><span class="line">select &apos;123123&apos; into dumpfile &apos;/tmp/test1.txt&apos;; </span><br><span class="line"> select   0x31323334   into outfile &apos;/tmp/test12.txt&apos;;(也可以通过16进制转换进行写入，也不需要加引号进行转换)</span><br><span class="line"> select   0x31323334   into dumpfile &apos;/tmp/test12.txt&apos;;</span><br></pre></td></tr></table></figure>

<p>写入成功：</p>
<p><img src="https://boke-1259222504.cos.ap-shanghai.myqcloud.com/boke/1565707844767.png" alt="1565707844767"></p>
<p><img src="https://boke-1259222504.cos.ap-shanghai.myqcloud.com/boke/1565747321130.png" alt="1565747321130"></p>
<p><img src="https://boke-1259222504.cos.ap-shanghai.myqcloud.com/boke/1565747448703.png" alt="1565747448703"></p>
<p>注：写入也需要secure_file_priv路径属性为空或者在该默认路径下进行写入。</p>
<h4 id="1-2-SQLserver文件读写方式："><a href="#1-2-SQLserver文件读写方式：" class="headerlink" title="1.2 SQLserver文件读写方式："></a>1.2 SQLserver文件读写方式：</h4><p>SQLserver对文件进行读取时候有3种方式可以进行读取BULK INSERT、Script.FileSystemObject方式。</p>
<h5 id="1-2-1-BULK-INSERT进行文件读取："><a href="#1-2-1-BULK-INSERT进行文件读取：" class="headerlink" title="1.2.1 BULK INSERT进行文件读取："></a>1.2.1 BULK INSERT进行文件读取：</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> iptable(res <span class="built_in">varchar</span>(<span class="number">8000</span>));（创建一个表名字为iptable，列名为ip）</span><br><span class="line">bulk <span class="keyword">insert</span> iptable <span class="keyword">from</span> <span class="string">'c:/ip.txt'</span>;(将ip.txt的数据导入iptable表)</span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> iptable;</span><br></pre></td></tr></table></figure>

<p>输入结果：</p>
<p><img src="https://boke-1259222504.cos.ap-shanghai.myqcloud.com/boke/1565748628703.png" alt="1565748628703"></p>
<h5 id="1-2-2-Script-FileSystemObject进行读写"><a href="#1-2-2-Script-FileSystemObject进行读写" class="headerlink" title="1.2.2  Script.FileSystemObject进行读写"></a>1.2.2  Script.FileSystemObject进行读写</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#开启Ole Automation Procedures</span></span><br><span class="line">sp_configure '<span class="keyword">show</span> <span class="keyword">advanced</span> options<span class="string">',1;</span></span><br><span class="line"><span class="string">RECONFIGURE;</span></span><br><span class="line"><span class="string">sp_configure '</span>Ole Automation Procedures<span class="string">',1;</span></span><br><span class="line"><span class="string">RECONFIGURE;</span></span><br><span class="line"><span class="string">RECONFIGURE WITH OVERRIDE；</span></span><br></pre></td></tr></table></figure>

<h5 id="读取文件："><a href="#读取文件：" class="headerlink" title="读取文件："></a>读取文件：</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">declare</span> @o <span class="built_in">int</span>, @f <span class="built_in">int</span>, @t <span class="built_in">int</span>, @ret <span class="built_in">int</span></span><br><span class="line"><span class="keyword">declare</span> @line <span class="built_in">varchar</span>(<span class="number">8000</span>)</span><br><span class="line">exec sp_oacreate <span class="string">'scripting.filesystemobject'</span>,@o <span class="keyword">out</span></span><br><span class="line">exec sp_oamethod @o, <span class="string">'opentextfile'</span>, @f <span class="keyword">out</span>, <span class="string">'c:\ip1.txt'</span>, <span class="number">1</span></span><br><span class="line">exec @ret = sp_onmethod @f, <span class="string">'readline'</span>, @line <span class="keyword">out</span></span><br><span class="line"><span class="keyword">while</span>(@ret = <span class="number">0</span>) <span class="keyword">begin</span> print @line exec @ret = sp_oamethod @f, <span class="string">'readline'</span>, @line <span class="keyword">out</span> <span class="keyword">end</span></span><br></pre></td></tr></table></figure>

<p>输出结果：</p>
<p><img src="https://boke-1259222504.cos.ap-shanghai.myqcloud.com/boke/1565750294814.png" alt="1565750294814"></p>
<h5 id="写入文件："><a href="#写入文件：" class="headerlink" title="写入文件："></a>写入文件：</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">declare</span> @o <span class="built_in">int</span>, @f <span class="built_in">int</span>, @t <span class="built_in">int</span>, @ret <span class="built_in">int</span></span><br><span class="line"><span class="keyword">declare</span> @line <span class="built_in">varchar</span>(<span class="number">8000</span>)</span><br><span class="line">exec sp_oacreate <span class="string">'scripting.filesystemobject'</span>,@o <span class="keyword">out</span></span><br><span class="line">exec sp_oamethod @o, <span class="string">'createtextfile'</span>, @f <span class="keyword">out</span>, <span class="string">'c:\ip1.txt'</span>, <span class="number">1</span></span><br><span class="line">exec @ret = sp_oamethod @f, <span class="string">'writeline'</span>, <span class="literal">NULL</span> ,<span class="string">'11111111'</span></span><br></pre></td></tr></table></figure>

<p>输入结果：</p>
<p><img src="https://boke-1259222504.cos.ap-shanghai.myqcloud.com/boke/1565750480871.png" alt="1565750480871"></p>
<p>注：该方式以覆盖写入为主，如果目标目录无文件则写入失败</p>
<p>同时也可以通过xp_cmdshell进行写入（但数据库需要启用xp_cmdshell才可以进行文件写入）：</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">exec xp_cmdshell 'echo test&gt;c:\1.txt'</span><br></pre></td></tr></table></figure>

<h2 id="2-数据库系统库与表学习"><a href="#2-数据库系统库与表学习" class="headerlink" title="2.数据库系统库与表学习"></a>2.数据库系统库与表学习</h2><h4 id="2-1-mysql系统库与表学习"><a href="#2-1-mysql系统库与表学习" class="headerlink" title="2.1 mysql系统库与表学习"></a>2.1 mysql系统库与表学习</h4><p>mysql默认库：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">show databases;</span><br></pre></td></tr></table></figure>

<p><img src="https://boke-1259222504.cos.ap-shanghai.myqcloud.com/boke/1565753734023.png" alt="1565753734023"></p>
<p>默认有information_schema、mysql、performance_schema、security、sys 5个数据库（version5.7.27），</p>
<h5 id="2-1-1-information-schema库"><a href="#2-1-1-information-schema库" class="headerlink" title="2.1.1.information_schema库"></a>2.1.1.information_schema库</h5><p>​         在mysql中把information_schema 看作是一个数据库，确切说是信息数据库。其中保存着关于MySQL服务器所维护的所有其他数据库的信息。如数据库名，数据库的表，表栏的数据类型与访问权 限等。在INFORMATION_SCHEMA中，有数个只读表。它们实际上是视图，而不是基本表，因此，你将无法看到与之相关的任何文件 。 </p>
<p>+—————————————+<br>| Tables_in_information_schema          |<br>+—————————————+<br>| CHARACTER_SETS                        |<br>| COLLATIONS                            |<br>| COLLATION_CHARACTER_SET_APPLICABILITY |<br>| COLUMNS                               |<br>| COLUMN_PRIVILEGES                     |<br>| ENGINES                               |<br>| EVENTS                                |<br>| FILES                                 |<br>| GLOBAL_STATUS                         |<br>| GLOBAL_VARIABLES                      |<br>| KEY_COLUMN_USAGE                      |<br>| OPTIMIZER_TRACE                       |<br>| PARAMETERS                            |<br>| PARTITIONS                            |<br>| PLUGINS                               |<br>| PROCESSLIST                           |<br>| PROFILING                             |<br>| REFERENTIAL_CONSTRAINTS               |<br>| ROUTINES                              |<br>| SCHEMATA                              |<br>| SCHEMA_PRIVILEGES                     |<br>| SESSION_STATUS                        |<br>| SESSION_VARIABLES                     |<br>| STATISTICS                            |<br>| TABLES                                |<br>| TABLESPACES                           |<br>| TABLE_CONSTRAINTS                     |<br>| TABLE_PRIVILEGES                      |<br>| TRIGGERS                              |<br>| USER_PRIVILEGES                       |<br>| VIEWS                                 |<br>| INNODB_LOCKS                          |<br>| INNODB_TRX                            |<br>| INNODB_SYS_DATAFILES                  |<br>| INNODB_FT_CONFIG                      |<br>| INNODB_SYS_VIRTUAL                    |<br>| INNODB_CMP                            |<br>| INNODB_FT_BEING_DELETED               |<br>| INNODB_CMP_RESET                      |<br>| INNODB_CMP_PER_INDEX                  |<br>| INNODB_CMPMEM_RESET                   |<br>| INNODB_FT_DELETED                     |<br>| INNODB_BUFFER_PAGE_LRU                |<br>| INNODB_LOCK_WAITS                     |<br>| INNODB_TEMP_TABLE_INFO                |<br>| INNODB_SYS_INDEXES                    |<br>| INNODB_SYS_TABLES                     |<br>| INNODB_SYS_FIELDS                     |<br>| INNODB_CMP_PER_INDEX_RESET            |<br>| INNODB_BUFFER_PAGE                    |<br>| INNODB_FT_DEFAULT_STOPWORD            |<br>| INNODB_FT_INDEX_TABLE                 |<br>| INNODB_FT_INDEX_CACHE                 |<br>| INNODB_SYS_TABLESPACES                |<br>| INNODB_METRICS                        |<br>| INNODB_SYS_FOREIGN_COLS               |<br>| INNODB_CMPMEM                         |<br>| INNODB_BUFFER_POOL_STATS              |<br>| INNODB_SYS_COLUMNS                    |<br>| INNODB_SYS_FOREIGN                    |<br>| INNODB_SYS_TABLESTATS                 |<br>+—————————————+</p>
<p><strong>SCHEMATA表</strong>：提供了当前mysql实例中所有数据库的信息。是show databases的结果取之此表。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select * from schemata;</span><br></pre></td></tr></table></figure>

<p><img src="https://boke-1259222504.cos.ap-shanghai.myqcloud.com/boke/1565833986657.png" alt="1565833986657"></p>
<p><strong>TABLES表：</strong>提供了关于数据库中的表的信息（包括视图）。详细表述了某个表属于哪个schema，表类型，表引擎，创建时间等信息。是show tables from schemaname的结果取之此表。</p>
<p><img src="https://boke-1259222504.cos.ap-shanghai.myqcloud.com/boke/1565834067784.png" alt="1565834067784"></p>
<p><strong>COLUMNS表：</strong>提供了表中的列信息。详细表述了某张表的所有列以及每个列的信息。是show columns from schemaname.tablename的结果取之此表。</p>
<p>STATISTICS表：提供了关于表索引的信息。是show index from schemaname.tablename的结果取之此表。</p>
<p><img src="https://boke-1259222504.cos.ap-shanghai.myqcloud.com/boke/1565834129667.png" alt="1565834129667"><strong>USER_PRIVILEGES（用户权限）</strong>：给出了关于全程权限的信息，该信息源自mysql.user授权表(非标准表)。 </p>
<p>SCHEMA_PRIVILEGES（方案权限）：给出了关于方案（数据库）权限的信息，该信息来自mysql.db授权表(非标准表)。<br>TABLE_PRIVILEGES（表权限）：给出了关于表权限的信息，该信息源自mysql.tables_priv授权表(非标准表)。<br>COLUMN_PRIVILEGES（列权限）：给出了关于列权限的信息，该信息源自mysql.columns_priv授权表(非标准表)。<br>CHARACTER_SETS（字符集）：提供了mysql实例可用字符集的信息，SHOW CHARACTER SET结果集取之此表。<br>COLLATIONS：提供了关于各字符集的对照信息。<br>COLLATION_CHARACTER_SET_APPLICABILITY：指明了可用于校对的字符集，这些列等效于SHOW COLLATION的前两个显示字段。<br>TABLE_CONSTRAINTS：描述了存在约束的表，以及表的约束类型。<br>KEY_COLUMN_USAGE：描述了具有约束的键列。<br>ROUTINES：提供了关于存储子程序（存储程序和函数）的信息，此时，ROUTINES表不包含自定义函数（UDF），名为“mysql.proc name”的列指明了对应于INFORMATION_SCHEMA.ROUTINES表的mysql.proc表列。<br>VIEWS：给出了关于数据库中的视图的信息，需要有show views权限，否则无法查看视图信息。<br>TRIGGERS：提供了关于触发程序的信息，必须有super权限才能查看该表。</p>
<h5 id="2-1-2-mysql库"><a href="#2-1-2-mysql库" class="headerlink" title="2.1.2 mysql库"></a>2.1.2 mysql库</h5><p>​     mysql的核心数据库，类似于sql server中的master表，主要负责存储数据库的用户、权限设置、关键字等mysql自己需要使用的控制和管理信息。(常用的，在mysql.user表中修改root用户的密码)。</p>
<p>+—————————+<br>| Tables_in_mysql           |<br>+—————————+<br>| columns_priv              |<br>| db                        |<br>| engine_cost               |<br>| event                     |<br>| func                      |<br>| general_log               |<br>| gtid_executed             |<br>| help_category             |<br>| help_keyword              |<br>| help_relation             |<br>| help_topic                |<br>| innodb_index_stats        |<br>| innodb_table_stats        |<br>| ndb_binlog_index          |<br>| plugin                    |<br>| proc                      |<br>| procs_priv                |<br>| proxies_priv              |<br>| server_cost               |<br>| servers                   |<br>| slave_master_info         |<br>| slave_relay_log_info      |<br>| slave_worker_info         |<br>| slow_log                  |<br>| tables_priv               |<br>| time_zone                 |<br>| time_zone_leap_second     |<br>| time_zone_name            |<br>| time_zone_transition      |<br>| time_zone_transition_type |<br>| user                      |<br>+—————————+</p>
<h5 id="2-1-3-performance-schema"><a href="#2-1-3-performance-schema" class="headerlink" title="2.1.3 performance_schema"></a>2.1.3 <strong>performance_schema</strong></h5><p>​      主要用于收集数据库服务器性能参数。并且库里表的存储引擎均为PERFORMANCE_SCHEMA，而用户是不能创建存储引擎为PERFORMANCE_SCHEMA的表。</p>
<p>参考链接：<a href="https://www.cnblogs.com/zhoujinyi/p/5236705.html" target="_blank" rel="noopener">https://www.cnblogs.com/zhoujinyi/p/5236705.html</a></p>
<h5 id="2-1-4-sys库"><a href="#2-1-4-sys库" class="headerlink" title="2.1.4 sys库"></a>2.1.4 <em>sys</em>库</h5><p>​      Sys库所有的数据源来自：performance_schema。目标是把performance_schema的把复杂度降低，让DBA能更好的阅读这个库里的内容。让DBA更快的了解DB的运行情况。 </p>
<p>参考链接：<a href="https://blog.csdn.net/yanzongshuai/article/details/73441158" target="_blank" rel="noopener">https://blog.csdn.net/yanzongshuai/article/details/73441158</a></p>
<h5 id="2-1-5-简单查询库、表、字段名、内容用户信息等"><a href="#2-1-5-简单查询库、表、字段名、内容用户信息等" class="headerlink" title="2.1.5 简单查询库、表、字段名、内容用户信息等"></a>2.1.5 简单查询库、表、字段名、内容用户信息等</h5><p>查询库：</p>
<p><img src="https://boke-1259222504.cos.ap-shanghai.myqcloud.com/boke/1565877136292.png" alt="1565877136292"></p>
<p>查询表：</p>
<p><img src="https://boke-1259222504.cos.ap-shanghai.myqcloud.com/boke/1565877298753.png" alt="1565877298753"></p>
<p>查询用户信息：</p>
<p><img src="https://boke-1259222504.cos.ap-shanghai.myqcloud.com/boke/1565877342498.png" alt="1565877342498"></p>
<p>查看现有用户：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select host,user,authentication_string from mysql.user;</span><br></pre></td></tr></table></figure>

<p><img src="https://boke-1259222504.cos.ap-shanghai.myqcloud.com/boke/1565877431764.png" alt="1565877431764"></p>
<p>新建用户：</p>
<p><strong>create user “username”@”host” identified by “password”;</strong>（  /<em>host=”localhost”为本地登录用户，host=”ip”为ip地址登录，host=”%”，为外网ip登录</em>/）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">create user &apos;test&apos;@&apos;localhost&apos; identified by &apos;123&apos;;(创建一个用户进行本地登录)</span><br></pre></td></tr></table></figure>

<p>产生错误信息：</p>
<p>ERROR 1290 (HY000): The MySQL server is running with the –skip-grant-tables option so it cannot execute this statement</p>
<p>需执行 flush privileges;  如下</p>
<p><img src="https://boke-1259222504.cos.ap-shanghai.myqcloud.com/boke/1565878084161.png" alt="1565878084161"></p>
<h5 id="2-1-6-使用hashcat暴力破解用户哈希值"><a href="#2-1-6-使用hashcat暴力破解用户哈希值" class="headerlink" title="2.1.6  使用hashcat暴力破解用户哈希值"></a>2.1.6  使用hashcat暴力破解用户哈希值</h5><h5 id="参数："><a href="#参数：" class="headerlink" title="参数："></a>参数：</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">-a  指定要使用的破解模式，其值参考后面对参数。“-a 0”字典攻击，“-a 1” 组合攻击；“-a 3”掩码攻击。</span><br><span class="line">-m  指定要破解的hash类型，如果不指定类型，则默认是MD5</span><br><span class="line">-o  指定破解成功后的hash及所对应的明文密码的存放位置,可以用它把破解成功的hash写到指定的文件中</span><br><span class="line">--force 忽略破解过程中的警告信息,跑单条hash可能需要加上此选项</span><br><span class="line">--show  显示已经破解的hash及该hash所对应的明文</span><br><span class="line">--increment  启用增量破解模式,你可以利用此模式让hashcat在指定的密码长度范围内执行破解过程</span><br><span class="line">--increment-min  密码最小长度,后面直接等于一个整数即可,配置increment模式一起使用</span><br><span class="line">--increment-max  密码最大长度,同上</span><br><span class="line">--outfile-format 指定破解结果的输出格式id,默认是3</span><br><span class="line">--username   忽略hash文件中的指定的用户名,在破解linux系统用户密码hash可能会用到</span><br><span class="line">--remove     删除已被破解成功的hash</span><br><span class="line">-r       使用自定义破解规则</span><br></pre></td></tr></table></figure>

<h5 id="攻击模式："><a href="#攻击模式：" class="headerlink" title="攻击模式："></a>攻击模式：</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># | Mode</span><br><span class="line"> ===+======</span><br><span class="line">  0 | Straight（字段破解）</span><br><span class="line">  1 | Combination（组合破解）</span><br><span class="line">  3 | Brute-force（掩码暴力破解）</span><br><span class="line">  6 | Hybrid Wordlist + Mask（字典+掩码破解）</span><br><span class="line">  7 | Hybrid Mask + Wordlist（掩码+字典破解）</span><br></pre></td></tr></table></figure>

<h5 id="输出格式："><a href="#输出格式：" class="headerlink" title="输出格式："></a>输出格式：</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">1 = hash[:salt]</span><br><span class="line">2 = plain</span><br><span class="line">3 = hash[:salt]:plain</span><br><span class="line">4 = hex_plain</span><br><span class="line">5 = hash[:salt]:hex_plain</span><br><span class="line">6 = plain:hex_plain</span><br><span class="line">7 = hash[:salt]:plain:hex_plain</span><br><span class="line">8 = crackpos</span><br><span class="line">9 = hash[:salt]:crackpos</span><br><span class="line">10 = plain:crackpos</span><br><span class="line">11 = hash[:salt]:plain:crackpos</span><br><span class="line">12 = hex_plain:crackpos</span><br><span class="line">13 = hash[:salt]:hex_plain:crackpos</span><br><span class="line">14 = plain:hex_plain:crackpos</span><br><span class="line">15 = hash[:salt]:plain:hex_plain:crackpos</span><br></pre></td></tr></table></figure>

<h5 id="Hash-ID对照表："><a href="#Hash-ID对照表：" class="headerlink" title="Hash  ID对照表："></a>Hash  ID对照表：</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br></pre></td><td class="code"><pre><span class="line">- [ Hash modes ] -</span><br><span class="line"></span><br><span class="line">      # | Name                                             | Category</span><br><span class="line">  ======+==================================================+======================================</span><br><span class="line">    900 | MD4                                              | Raw Hash</span><br><span class="line">      0 | MD5                                              | Raw Hash</span><br><span class="line">   5100 | Half MD5                                         | Raw Hash</span><br><span class="line">    100 | SHA1                                             | Raw Hash</span><br><span class="line">   1300 | SHA2-224                                         | Raw Hash</span><br><span class="line">   1400 | SHA2-256                                         | Raw Hash</span><br><span class="line">  10800 | SHA2-384                                         | Raw Hash</span><br><span class="line">   1700 | SHA2-512                                         | Raw Hash</span><br><span class="line">  17300 | SHA3-224                                         | Raw Hash</span><br><span class="line">  17400 | SHA3-256                                         | Raw Hash</span><br><span class="line">  17500 | SHA3-384                                         | Raw Hash</span><br><span class="line">  17600 | SHA3-512                                         | Raw Hash</span><br><span class="line">     10 | md5($pass.$salt)                                 | Raw Hash, Salted and/or Iterated</span><br><span class="line">     20 | md5($salt.$pass)                                 | Raw Hash, Salted and/or Iterated</span><br><span class="line">     30 | md5(utf16le($pass).$salt)                        | Raw Hash, Salted and/or Iterated</span><br><span class="line">     40 | md5($salt.utf16le($pass))                        | Raw Hash, Salted and/or Iterated</span><br><span class="line">   3800 | md5($salt.$pass.$salt)                           | Raw Hash, Salted and/or Iterated</span><br><span class="line">   3710 | md5($salt.md5($pass))                            | Raw Hash, Salted and/or Iterated</span><br><span class="line">   4010 | md5($salt.md5($salt.$pass))                      | Raw Hash, Salted and/or Iterated</span><br><span class="line">   4110 | md5($salt.md5($pass.$salt))                      | Raw Hash, Salted and/or Iterated</span><br><span class="line">   2600 | md5(md5($pass))                                  | Raw Hash, Salted and/or Iterated</span><br><span class="line">   3910 | md5(md5($pass).md5($salt))                       | Raw Hash, Salted and/or Iterated</span><br><span class="line">   4300 | md5(strtoupper(md5($pass)))                      | Raw Hash, Salted and/or Iterated</span><br><span class="line">   4400 | md5(sha1($pass))                                 | Raw Hash, Salted and/or Iterated</span><br><span class="line">    110 | sha1($pass.$salt)                                | Raw Hash, Salted and/or Iterated</span><br><span class="line">    120 | sha1($salt.$pass)                                | Raw Hash, Salted and/or Iterated</span><br><span class="line">    130 | sha1(utf16le($pass).$salt)                       | Raw Hash, Salted and/or Iterated</span><br><span class="line">    140 | sha1($salt.utf16le($pass))                       | Raw Hash, Salted and/or Iterated</span><br><span class="line">   4500 | sha1(sha1($pass))                                | Raw Hash, Salted and/or Iterated</span><br><span class="line">   4520 | sha1($salt.sha1($pass))                          | Raw Hash, Salted and/or Iterated</span><br><span class="line">   4700 | sha1(md5($pass))                                 | Raw Hash, Salted and/or Iterated</span><br><span class="line">   4900 | sha1($salt.$pass.$salt)                          | Raw Hash, Salted and/or Iterated</span><br><span class="line">  14400 | sha1(CX)                                         | Raw Hash, Salted and/or Iterated</span><br><span class="line">   1410 | sha256($pass.$salt)                              | Raw Hash, Salted and/or Iterated</span><br><span class="line">   1420 | sha256($salt.$pass)                              | Raw Hash, Salted and/or Iterated</span><br><span class="line">   1430 | sha256(utf16le($pass).$salt)                     | Raw Hash, Salted and/or Iterated</span><br><span class="line">   1440 | sha256($salt.utf16le($pass))                     | Raw Hash, Salted and/or Iterated</span><br><span class="line">   1710 | sha512($pass.$salt)                              | Raw Hash, Salted and/or Iterated</span><br><span class="line">   1720 | sha512($salt.$pass)                              | Raw Hash, Salted and/or Iterated</span><br><span class="line">   1730 | sha512(utf16le($pass).$salt)                     | Raw Hash, Salted and/or Iterated</span><br><span class="line">   1740 | sha512($salt.utf16le($pass))                     | Raw Hash, Salted and/or Iterated</span><br><span class="line">  14000 | DES (PT = $salt, key = $pass)                    | Raw Cipher, Known-Plaintext attack</span><br><span class="line">  14100 | 3DES (PT = $salt, key = $pass)                   | Raw Cipher, Known-Plaintext attack</span><br><span class="line">  14900 | Skip32 (PT = $salt, key = $pass)                 | Raw Cipher, Known-Plaintext attack</span><br><span class="line">  15400 | ChaCha20                                         | Raw Cipher, Known-Plaintext attack</span><br><span class="line">   2500 | WPA-EAPOL-PBKDF2                                 | Network Protocols</span><br><span class="line">   2501 | WPA-EAPOL-PMK                                    | Network Protocols</span><br><span class="line">  16800 | WPA-PMKID-PBKDF2                                 | Network Protocols</span><br><span class="line">  16801 | WPA-PMKID-PMK                                    | Network Protocols</span><br><span class="line">   7300 | IPMI2 RAKP HMAC-SHA1                             | Network Protocols</span><br><span class="line">   7500 | Kerberos 5 AS-REQ Pre-Auth etype 23              | Network Protocols</span><br><span class="line">   8300 | DNSSEC (NSEC3)                                   | Network Protocols</span><br><span class="line">  10200 | CRAM-MD5                                         | Network Protocols</span><br><span class="line">  11100 | PostgreSQL CRAM (MD5)                            | Network Protocols</span><br><span class="line">  11200 | MySQL CRAM (SHA1)                                | Network Protocols</span><br><span class="line">  16100 | TACACS+                                          | Network Protocols</span><br><span class="line">  16500 | JWT (JSON Web Token)                             | Network Protocols</span><br><span class="line">    121 | SMF (Simple Machines Forum) &gt; v1.1               | Forums, CMS, E-Commerce, Frameworks</span><br><span class="line">    400 | phpBB3 (MD5)                                     | Forums, CMS, E-Commerce, Frameworks</span><br><span class="line">   2811 | MyBB 1.2+                                        | Forums, CMS, E-Commerce, Frameworks</span><br><span class="line">   2811 | IPB2+ (Invision Power Board)                     | Forums, CMS, E-Commerce, Frameworks</span><br><span class="line">   8400 | WBB3 (Woltlab Burning Board)                     | Forums, CMS, E-Commerce, Frameworks</span><br><span class="line">     11 | Joomla &lt; 2.5.18                                  | Forums, CMS, E-Commerce, Frameworks</span><br><span class="line">    400 | Joomla &gt;= 2.5.18 (MD5)                           | Forums, CMS, E-Commerce, Frameworks</span><br><span class="line">    400 | WordPress (MD5)                                  | Forums, CMS, E-Commerce, Frameworks</span><br><span class="line">   2612 | PHPS                                             | Forums, CMS, E-Commerce, Frameworks</span><br><span class="line">   7900 | Drupal7                                          | Forums, CMS, E-Commerce, Frameworks</span><br><span class="line">     21 | osCommerce                                       | Forums, CMS, E-Commerce, Frameworks</span><br><span class="line">     21 | xt:Commerce                                      | Forums, CMS, E-Commerce, Frameworks</span><br><span class="line">  11000 | PrestaShop                                       | Forums, CMS, E-Commerce, Frameworks</span><br><span class="line">    124 | Django (SHA-1)                                   | Forums, CMS, E-Commerce, Frameworks</span><br><span class="line">  10000 | Django (PBKDF2-SHA256)                           | Forums, CMS, E-Commerce, Frameworks</span><br><span class="line">     12 | PostgreSQL                                       | Database Server</span><br><span class="line">    131 | MSSQL (2000)                                     | Database Server</span><br><span class="line">    132 | MSSQL (2005)                                     | Database Server</span><br><span class="line">   1731 | MSSQL (2012, 2014)                               | Database Server</span><br><span class="line">    200 | MySQL323                                         | Database Server</span><br><span class="line">    300 | MySQL4.1/MySQL5                                  | Database Server</span><br><span class="line">   3100 | Oracle H: Type (Oracle 7+)                       | Database Server</span><br><span class="line">    112 | Oracle S: Type (Oracle 11+)                      | Database Server</span><br><span class="line">  12300 | Oracle T: Type (Oracle 12+)                      | Database Server</span><br><span class="line">   8000 | Sybase ASE                                       | Database Server</span><br><span class="line">  15000 | FileZilla Server &gt;= 0.9.55                       | FTP Server</span><br><span class="line">  11500 | CRC32                                            | Checksums</span><br><span class="line">   3000 | LM                                               | Operating Systems</span><br><span class="line">   1000 | NTLM                                             | Operating Systems</span><br><span class="line">    500 | md5crypt, MD5 (Unix), Cisco-IOS $1$ (MD5)        | Operating Systems</span><br><span class="line">   3200 | bcrypt $2*$, Blowfish (Unix)                     | Operating Systems</span><br><span class="line">   7400 | sha256crypt $5$, SHA256 (Unix)                   | Operating Systems</span><br><span class="line">   1800 | sha512crypt $6$, SHA512 (Unix)                   | Operating Systems</span><br><span class="line">    122 | macOS v10.4, MacOS v10.5, MacOS v10.6            | Operating Systems</span><br><span class="line">   1722 | macOS v10.7                                      | Operating Systems</span><br><span class="line">   7100 | macOS v10.8+ (PBKDF2-SHA512)                     | Operating Systems</span><br><span class="line">  11600 | 7-Zip                                            | Archives</span><br><span class="line">  12500 | RAR3-hp                                          | Archives</span><br><span class="line">  13000 | RAR5                                             | Archives</span><br><span class="line">  13600 | WinZip                                           | Archives</span><br><span class="line">   9700 | MS Office &lt;= 2003 $0/$1, MD5 + RC4               | Documents</span><br><span class="line">   9710 | MS Office &lt;= 2003 $0/$1, MD5 + RC4, collider #1  | Documents</span><br><span class="line">   9720 | MS Office &lt;= 2003 $0/$1, MD5 + RC4, collider #2  | Documents</span><br><span class="line">   9800 | MS Office &lt;= 2003 $3/$4, SHA1 + RC4              | Documents</span><br><span class="line">   9810 | MS Office &lt;= 2003 $3, SHA1 + RC4, collider #1    | Documents</span><br><span class="line">   9820 | MS Office &lt;= 2003 $3, SHA1 + RC4, collider #2    | Documents</span><br><span class="line">   9400 | MS Office 2007                                   | Documents</span><br><span class="line">   9500 | MS Office 2010                                   | Documents</span><br><span class="line">   9600 | MS Office 2013                                   | Documents</span><br><span class="line">  10400 | PDF 1.1 - 1.3 (Acrobat 2 - 4)                    | Documents</span><br><span class="line">  10410 | PDF 1.1 - 1.3 (Acrobat 2 - 4), collider #1       | Documents</span><br><span class="line">  10420 | PDF 1.1 - 1.3 (Acrobat 2 - 4), collider #2       | Documents</span><br><span class="line">  10500 | PDF 1.4 - 1.6 (Acrobat 5 - 8)                    | Documents</span><br><span class="line">  10600 | PDF 1.7 Level 3 (Acrobat 9)                      | Documents</span><br><span class="line">  10700 | PDF 1.7 Level 8 (Acrobat 10 - 11)                | Documents</span><br><span class="line">  99999 | Plaintext                                        | Plaintext</span><br></pre></td></tr></table></figure>

<h5 id="掩码设置："><a href="#掩码设置：" class="headerlink" title="掩码设置："></a>掩码设置：</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">l | abcdefghijklmnopqrstuvwxyz          纯小写字母</span><br><span class="line">u | ABCDEFGHIJKLMNOPQRSTUVWXYZ          纯大写字母</span><br><span class="line">d | 0123456789                  纯数字</span><br><span class="line">h | 0123456789abcdef                常见小写子目录和数字</span><br><span class="line">H | 0123456789ABCDEF                常见大写字母和数字</span><br><span class="line">s |  !&quot;#$%&amp;&apos;()*+,-./:;&lt;=&gt;?@[\]^_`&#123;|&#125;~       特殊字符</span><br><span class="line">a | ?l?u?d?s                    键盘上所有可见的字符</span><br><span class="line">b | 0x00 - 0xff                 可能是用来匹配像空格这种密码的</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">八位数字密码：?d?d?d?d?d?d?d?d</span><br><span class="line">八位未知密码：?a?a?a?a?a?a?a?a</span><br><span class="line">前四位为大写字母，后面四位为数字：?u?u?u?u?d?d?d?d</span><br><span class="line">前四位为数字或者是小写字母，后四位为大写字母或者数字：?h?h?h?h?H?H?H?H</span><br><span class="line">前三个字符未知，中间为admin，后三位未知：?a?a?aadmin?a?a?a</span><br><span class="line">6-8位数字密码：--increment --increment-min 6 --increment-max 8 ?l?l?l?l?l?l?l?l</span><br><span class="line">6-8位数字+小写字母密码：--increment --increment-min 6 --increment-max 8 ?h?h?h?h?h?h?h?h</span><br></pre></td></tr></table></figure>

<p>查询test用户哈希值</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select host,user,authentication_string from mysql.user;</span><br></pre></td></tr></table></figure>

<p>+———–+—————+——————————————-+<br>| host      | user          | authentication_string                     |<br>+———–+—————+——————————————-+<br>| %         | admin         | *CEC3498F67987AEBE2EAD1315A7C74D07B13D4C4 |<br>| localhost | mysql.session | *THISISNOTAVALIDPASSWORDTHATCANBEUSEDHERE |<br>| localhost | mysql.sys     | *THISISNOTAVALIDPASSWORDTHATCANBEUSEDHERE |<br>| localhost | test          | *23AE809DDACAF96AF0FD78ED04B6A265E05AA257 |<br>+———–+—————+——————————————-+</p>
<p>查看下加密类型：</p>
<p><img src="https://boke-1259222504.cos.ap-shanghai.myqcloud.com/boke/1565882060259.png" alt="1565882060259"></p>
<h5 id="进行破解："><a href="#进行破解：" class="headerlink" title="进行破解："></a>进行破解：</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hashcat -a 3 -m 300 --force 23AE809DDACAF96AF0FD78ED04B6A265E05AA257 ?d?d?d</span><br></pre></td></tr></table></figure>

<p>输出结果：</p>
<p><img src="https://boke-1259222504.cos.ap-shanghai.myqcloud.com/boke/1565917746029.png" alt="1565917746029"></p>
<h5 id="参考链接："><a href="#参考链接：" class="headerlink" title="参考链接："></a>参考链接：</h5><p>hashcat使用：</p>
<p><a href="https://xz.aliyun.com/t/4008" target="_blank" rel="noopener">https://xz.aliyun.com/t/4008</a></p>
<p>关于SQL注入中文件读写的方法总结：</p>
<p><a href="https://www.jb51.net/article/108979.htm" target="_blank" rel="noopener">https://www.jb51.net/article/108979.htm</a></p>
<p>mysql 5.7.22 自带的四个数据库介绍：</p>
<p><a href="https://blog.csdn.net/cainiao000001/article/details/80502549" target="_blank" rel="noopener">https://blog.csdn.net/cainiao000001/article/details/80502549</a></p>

      
    </div>
    
    
    


<div>
    <div>
    
        <div style="text-align:center;color: #ccc;font-size:14px;">-------------本文结束 <i class="fa fa-heart"></i> 感谢阅读-------------</div>
    
</div>
</div>
 

    

    

    



    <footer class="post-footer">
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2019/08/19/数据库学习-2/" rel="next" title="数据库学习">
                <i class="fa fa-chevron-left"></i> 数据库学习
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2019/09/09/MySql内置函数学习-4/" rel="prev" title="MySql内置函数学习------第四周学习">
                MySql内置函数学习------第四周学习 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  
    <div class="comments" id="comments">
      <div id="SOHUCS"></div>
    </div>

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            Table of Contents
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            Overview
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="/uploads/avatar.jpg" alt="Darren-zl">
            
              <p class="site-author-name" itemprop="name">Darren-zl</p>
              <p class="site-description motion-element" itemprop="description">一天一小步，随着时间的积累，你将会发现你其实已经走了很远。</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">15</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            

            

          </nav>

          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/Darren-zl" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-github"></i>GitHub</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="https://weibo.com/p/1005052390784733/home?from=page_100505&mod=TAB&pids=plc_main" target="_blank" title="Weibo">
                      
                        <i class="fa fa-fw fa-weibo"></i>Weibo</a>
                  </span>
                
            </div>
          

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#数据库系统表相关学习—-3"><span class="nav-number">1.</span> <span class="nav-text">数据库系统表相关学习—-3</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-利用数据库功能进行文件的读取。"><span class="nav-number">1.1.</span> <span class="nav-text">1.利用数据库功能进行文件的读取。</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-1-Mysql文件读写方式"><span class="nav-number">1.1.0.1.</span> <span class="nav-text">1.1 Mysql文件读写方式:</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#1-1-1-通过load-file-进行文件读取"><span class="nav-number">1.1.0.1.1.</span> <span class="nav-text">1.1.1 通过load_file()进行文件读取</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#正确的读取方式："><span class="nav-number">1.1.0.1.2.</span> <span class="nav-text">正确的读取方式：</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#如果我查询别的路径的文件的话（错误操作）："><span class="nav-number">1.1.0.1.3.</span> <span class="nav-text">如果我查询别的路径的文件的话（错误操作）：</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#只有当secure-file-priv路径参数为空并且有目录权限时，可通过load-file（）命令对指定的文件进行查看。"><span class="nav-number">1.1.0.1.4.</span> <span class="nav-text">只有当secure_file_priv路径参数为空并且有目录权限时，可通过load_file（）命令对指定的文件进行查看。</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#同时也可以进行下面方式进行读取："><span class="nav-number">1.1.0.1.5.</span> <span class="nav-text">同时也可以进行下面方式进行读取：</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#1-1-2-load-data-infile-进行文件的读取"><span class="nav-number">1.1.0.1.6.</span> <span class="nav-text">1.1.2 load data infile 进行文件的读取</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#1-1-3-通过system-cat命令进行文件读取"><span class="nav-number">1.1.0.1.7.</span> <span class="nav-text">1.1.3 通过system cat命令进行文件读取</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#1-1-4-通过数据库插入文件（方便以后写shell文件）"><span class="nav-number">1.1.0.1.8.</span> <span class="nav-text">1.1.4 通过数据库插入文件（方便以后写shell文件）</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#1-2-SQLserver文件读写方式："><span class="nav-number">1.1.0.2.</span> <span class="nav-text">1.2 SQLserver文件读写方式：</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#1-2-1-BULK-INSERT进行文件读取："><span class="nav-number">1.1.0.2.1.</span> <span class="nav-text">1.2.1 BULK INSERT进行文件读取：</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#1-2-2-Script-FileSystemObject进行读写"><span class="nav-number">1.1.0.2.2.</span> <span class="nav-text">1.2.2  Script.FileSystemObject进行读写</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#读取文件："><span class="nav-number">1.1.0.2.3.</span> <span class="nav-text">读取文件：</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#写入文件："><span class="nav-number">1.1.0.2.4.</span> <span class="nav-text">写入文件：</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-数据库系统库与表学习"><span class="nav-number">1.2.</span> <span class="nav-text">2.数据库系统库与表学习</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#2-1-mysql系统库与表学习"><span class="nav-number">1.2.0.1.</span> <span class="nav-text">2.1 mysql系统库与表学习</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#2-1-1-information-schema库"><span class="nav-number">1.2.0.1.1.</span> <span class="nav-text">2.1.1.information_schema库</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#2-1-2-mysql库"><span class="nav-number">1.2.0.1.2.</span> <span class="nav-text">2.1.2 mysql库</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#2-1-3-performance-schema"><span class="nav-number">1.2.0.1.3.</span> <span class="nav-text">2.1.3 performance_schema</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#2-1-4-sys库"><span class="nav-number">1.2.0.1.4.</span> <span class="nav-text">2.1.4 sys库</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#2-1-5-简单查询库、表、字段名、内容用户信息等"><span class="nav-number">1.2.0.1.5.</span> <span class="nav-text">2.1.5 简单查询库、表、字段名、内容用户信息等</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#2-1-6-使用hashcat暴力破解用户哈希值"><span class="nav-number">1.2.0.1.6.</span> <span class="nav-text">2.1.6  使用hashcat暴力破解用户哈希值</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#参数："><span class="nav-number">1.2.0.1.7.</span> <span class="nav-text">参数：</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#攻击模式："><span class="nav-number">1.2.0.1.8.</span> <span class="nav-text">攻击模式：</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#输出格式："><span class="nav-number">1.2.0.1.9.</span> <span class="nav-text">输出格式：</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Hash-ID对照表："><span class="nav-number">1.2.0.1.10.</span> <span class="nav-text">Hash  ID对照表：</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#掩码设置："><span class="nav-number">1.2.0.1.11.</span> <span class="nav-text">掩码设置：</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#进行破解："><span class="nav-number">1.2.0.1.12.</span> <span class="nav-text">进行破解：</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#参考链接："><span class="nav-number">1.2.0.1.13.</span> <span class="nav-text">参考链接：</span></a></li></ol></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Darren-zl</span>

  
</div>


  <!--<div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div>-->



 <!-- <span class="post-meta-divider">|</span>-->



  <!--<div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.4</div>-->




        
<div class="busuanzi-count">
  <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  
    <span class="site-uv">
      <i class="fa fa-user"></i> 访问人数
      <span class="busuanzi-value" id="busuanzi_value_site_uv"></span>
      人
    </span>
  

  
    <span class="site-pv">
      <i class="fa fa-eye"></i> 总访问量
      <span class="busuanzi-value" id="busuanzi_value_site_pv"></span>
      次
    </span>
  
</div>








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  <div class="bg_content">
    <canvas id="canvas"></canvas>
</div>



  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  


  











  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  

  
  
    <script type="text/javascript" src="/lib/canvas-nest/canvas-nest.min.js"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  




  
    <script type="text/javascript">
    (function(){
      var appid = 'cytxCyGhU';
      var conf = '90b283bdb7ccb472f325f3c891156b33';
      var width = window.innerWidth || document.documentElement.clientWidth;
      if (width < 960) {
      window.document.write('<script id="changyan_mobile_js" charset="utf-8" type="text/javascript" src="https://changyan.sohu.com/upload/mobile/wap-js/changyan_mobile.js?client_id=' + appid + '&conf=' + conf + '"><\/script>'); } else { var loadJs=function(d,a){var c=document.getElementsByTagName("head")[0]||document.head||document.documentElement;var b=document.createElement("script");b.setAttribute("type","text/javascript");b.setAttribute("charset","UTF-8");b.setAttribute("src",d);if(typeof a==="function"){if(window.attachEvent){b.onreadystatechange=function(){var e=b.readyState;if(e==="loaded"||e==="complete"){b.onreadystatechange=null;a()}}}else{b.onload=a}}c.appendChild(b)};loadJs("https://changyan.sohu.com/upload/changyan.js",function(){
        window.changyan.api.config({appid:appid,conf:conf})});
      }
    })();
    </script>
    <script type="text/javascript" src="https://assets.changyan.sohu.com/upload/plugins/plugins.count.js"></script>
  









  





  

  
  <script src="https://cdn1.lncld.net/static/js/av-core-mini-0.6.4.js"></script>
  <script>AV.initialize("29xnQ1C2kcwORHYYn7xsWTnS-gzGzoHsz", "Rq1Gk75oRwH78BryWUL4oYzj");</script>
  <script>
    function showTime(Counter) {
      var query = new AV.Query(Counter);
      var entries = [];
      var $visitors = $(".leancloud_visitors");

      $visitors.each(function () {
        entries.push( $(this).attr("id").trim() );
      });

      query.containedIn('url', entries);
      query.find()
        .done(function (results) {
          var COUNT_CONTAINER_REF = '.leancloud-visitors-count';

          if (results.length === 0) {
            $visitors.find(COUNT_CONTAINER_REF).text(0);
            return;
          }

          for (var i = 0; i < results.length; i++) {
            var item = results[i];
            var url = item.get('url');
            var time = item.get('time');
            var element = document.getElementById(url);

            $(element).find(COUNT_CONTAINER_REF).text(time);
          }
          for(var i = 0; i < entries.length; i++) {
            var url = entries[i];
            var element = document.getElementById(url);
            var countSpan = $(element).find(COUNT_CONTAINER_REF);
            if( countSpan.text() == '') {
              countSpan.text(0);
            }
          }
        })
        .fail(function (object, error) {
          console.log("Error: " + error.code + " " + error.message);
        });
    }

    function addCount(Counter) {
      var $visitors = $(".leancloud_visitors");
      var url = $visitors.attr('id').trim();
      var title = $visitors.attr('data-flag-title').trim();
      var query = new AV.Query(Counter);

      query.equalTo("url", url);
      query.find({
        success: function(results) {
          if (results.length > 0) {
            var counter = results[0];
            counter.fetchWhenSave(true);
            counter.increment("time");
            counter.save(null, {
              success: function(counter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(counter.get('time'));
              },
              error: function(counter, error) {
                console.log('Failed to save Visitor num, with error message: ' + error.message);
              }
            });
          } else {
            var newcounter = new Counter();
            /* Set ACL */
            var acl = new AV.ACL();
            acl.setPublicReadAccess(true);
            acl.setPublicWriteAccess(true);
            newcounter.setACL(acl);
            /* End Set ACL */
            newcounter.set("title", title);
            newcounter.set("url", url);
            newcounter.set("time", 1);
            newcounter.save(null, {
              success: function(newcounter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(newcounter.get('time'));
              },
              error: function(newcounter, error) {
                console.log('Failed to create');
              }
            });
          }
        },
        error: function(error) {
          console.log('Error:' + error.code + " " + error.message);
        }
      });
    }

    $(function() {
      var Counter = AV.Object.extend("Counter");
      if ($('.leancloud_visitors').length == 1) {
        addCount(Counter);
      } else if ($('.post-title-link').length > 1) {
        showTime(Counter);
      }
    });
  </script>



  

  
<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>


  
  

  

  

  



</body>
</html>
